<div data-ng-app="flowertyApplication.contactModule">
	<form id="contact-form" class="form-horizontal">
		<h2 class="text-center">{{bundle.processType.titleContact}}</h2>
		<div class="row">
			<div data-ng-class="bundle.processType.widthClass">
				<div class="form-group">
					<label class="col-sm-3 control-label">Name</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.name" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Surname</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.surname" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Fathername</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.fathername" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Birthday</label>
					<div data-ng-if="bundle.processType.isShowPhones" class="col-sm-8">
						<input id="birthday-picker" data-ng-model="bundle.contact.birthday" class="form-control" placeholder="Select birthday" readonly>
						
						<!-- TODO: need improve, because mixing js and html it is not best idea -->
						<script type="text/javascript">
							$(document).ready(function() {
								$("#birthday-picker").datepicker({
									format : "yyyy-mm-day",
								}).on('changeDate', function(e) {
									$(this).trigger('input');
									$(this).datepicker('hide');
								});
							});
						</script>
					</div>
					
					{{bundle.date.year.value}}
					{{bundle.date.month.value}}
					{{bundle.date.day.value}}
					
					<!-- if we don't display phones, then we search contact -->
					<div data-ng-if="!bundle.processType.isdShowPhones">
					
						<!-- search controls for picked year, month and day -->
						<div class="col-sm-8 row">
							<script type="text/javascript">
								$(document).ready(function() {
									$("#year-picker").datepicker({
										format : " yyyy ",
										viewMode : "years",
										minViewMode : "years"
									}).on('changeDate', function(e) {
										$(this).trigger('input');
										$(this).datepicker('hide');
									});
						
									$("#month-picker").datepicker({
										format : " mm ",
										viewMode : "months",
										minViewMode : "months"
									}).on('changeDate', function(e) {
										$(this).trigger('input');
										$(this).datepicker('hide');
									});
						
									$("#day-picker").datepicker({
										format : " dd ",
										viewMode : "days",
										minViewMode : "days"
									}).on('changeDate', function(e) {
										$(this).trigger('input');
										$(this).datepicker('hide');
									});
								});
							</script>
							<div class="col-md-4">
								<label>Year</label> 
								<input type="checkbox" data-ng-model="bundle.date.year.isUse"> 
								<input id="year-picker" class="form-control glyphicon glyphicon-calendar" data-ng-show="bundle.date.year.isUse" data-ng-model="bundle.date.year.value">
							</div>
							<div class="col-md-4">
								<label>Month</label> 
								<input type="checkbox" data-ng-model="bundle.date.month.isUse"> 
								<input id="month-picker" class="form-control glyphicon glyphicon-calendar" data-ng-show="bundle.date.month.isUse" data-ng-model="bundle.date.month.value">
							</div>
							<div class="col-md-4">
								<label>Day</label> 
								<input type="checkbox" data-ng-model="bundle.date.day.isUse"> 
								<input id="day-picker" class="form-control glyphicon glyphicon-calendar" data-ng-show="bundle.date.day.isUse" data-ng-model="bundle.date.day.value">
							</div>
						</div>
					
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Email</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.email" class="form-control" type="email">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Town</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.town" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Street</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.street" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">House</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.house" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Flat</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.flat" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Country</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.country" class="form-control">
					</div>
				</div>
			</div>
			<!-- include modal form to editing phone. is in the same folder as this page. -->
			<div data-ng-include="bundle.phoneTemplate"></div>
			<div data-ng-include="bundle.phoneListTemplate" data-ng-if="bundle.processType.isShowPhones"></div>
		</div>
		<div> 
			<button style="margin-bottom: 80px;" data-ng-click="bundle.processType.action(bundle.contact)"
				class="pull-right col-sm-4 btn btn-primary btn-lg active">{{bundle.processType.name}}
			</button>
		</div>
	</form>
</div>