<div data-ng-app="flowertyApplication.contactModule">
	<form id="contact-form" class="form-horizontal">
		<h2 class="text-center">{{bundle.processType.titleContact}}</h2>
		<div class="row">
			<div data-ng-class="bundle.processType.widthClass">
				<div class="form-group">
					<label class="col-sm-3 control-label">Name</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.name" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Surname</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.surname" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Fathername</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.fathername" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Birthday</label>
					<div data-ng-if="bundle.processType.isShowPhones" class="col-sm-8">
						<input id="birthday-picker" data-ng-model="bundle.contact.birthday" class="form-control" placeholder="Select birthday" readonly>
						
						<!-- TODO: need improve, because mixing js and html it is not best idea -->
						<script type="text/javascript">
							$(document).ready(function() {
								$("#birthday-picker").datepicker({
									format : "yyyy-mm-day",
								}).on('changeDate', function(e) {
									$(this).trigger('input');
									$(this).datepicker('hide');
								});
							});
						</script>
					</div>
					
					<!-- if we don't display phones, then we search contact -->
					<div data-ng-if="!bundle.processType.isdShowPhones" data-ng-include="bundle.datePickerTemplate"> </div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Email</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.email" class="form-control" type="email">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Town</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.town" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Street</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.street" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">House</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.house" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Flat</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.flat" class="form-control">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-3 control-label">Country</label>
					<div class="col-sm-8">
						<input data-ng-model="bundle.contact.address.country" class="form-control">
					</div>
				</div>
			</div>
			<!-- include modal form to editing phone. is in the same folder as this page. -->
			<div data-ng-include="bundle.phoneTemplate"></div>
			<div data-ng-include="bundle.phoneListTemplate" data-ng-if="bundle.processType.isShowPhones"></div>
		</div>
		<div> 
			<button style="margin-bottom: 80px;" data-ng-click="bundle.processType.action(bundle.contact)"
				class="pull-right col-sm-4 btn btn-primary btn-lg active">{{bundle.processType.name}}
			</button>
		</div>
	</form>
</div>